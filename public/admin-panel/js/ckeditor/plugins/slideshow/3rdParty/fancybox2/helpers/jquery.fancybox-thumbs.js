(function(d){d.fancybox.helpers.thumbs={defaults:{width:50,height:50,position:"bottom",source:function(b){var a;b.element&&(a=d(b.element).find("img").attr("src"));!a&&"image"===b.type&&b.href&&(a=b.href);return a}},wrap:null,list:null,width:0,init:function(b,a){var l=this,c,f=b.width,g=b.height,m=b.source;c="";for(var e=0;e<a.group.length;e++)c+='\x3cli\x3e\x3ca style\x3d"width:'+f+"px;height:"+g+'px;" href\x3d"javascript:jQuery.fancybox.jumpto('+e+');"\x3e\x3c/a\x3e\x3c/li\x3e';this.wrap=d('\x3cdiv id\x3d"fancybox-thumbs"\x3e\x3c/div\x3e').addClass(b.position).appendTo("body");
this.list=d("\x3cul\x3e"+c+"\x3c/ul\x3e").appendTo(this.wrap);d.each(a.group,function(b){var c=m(a.group[b]);c&&d("\x3cimg /\x3e").load(function(){var a=this.width,c=this.height,h,k,e;l.list&&a&&c&&(h=a/f,k=c/g,e=l.list.children().eq(b).find("a"),1<=h&&1<=k&&(h>k?(a=Math.floor(a/k),c=g):(a=f,c=Math.floor(c/h))),d(this).css({width:a,height:c,top:Math.floor(g/2-c/2),left:Math.floor(f/2-a/2)}),e.width(f).height(g),d(this).hide().appendTo(e).fadeIn(300))}).attr("src",c)});this.width=this.list.children().eq(0).outerWidth(!0);
this.list.width(this.width*(a.group.length+1)).css("left",Math.floor(.5*d(window).width()-(a.index*this.width+.5*this.width)))},beforeLoad:function(b,a){2>a.group.length?a.helpers.thumbs=!1:a.margin["top"===b.position?0:2]+=b.height+15},afterShow:function(b,a){if(this.list)this.onUpdate(b,a);else this.init(b,a);this.list.children().removeClass("active").eq(a.index).addClass("active")},onUpdate:function(b,a){this.list&&this.list.stop(!0).animate({left:Math.floor(.5*d(window).width()-(a.index*this.width+
.5*this.width))},150)},beforeClose:function(){this.wrap&&this.wrap.remove();this.list=this.wrap=null;this.width=0}}})(jQuery);